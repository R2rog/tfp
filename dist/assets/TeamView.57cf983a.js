import{C as S}from"./ChampTooltip.fc4e93cf.js";import{o as c,c as m,F as g,r as f,a,t as u,n as v,w as _,v as C,b as T,d as A,e as b,f as w,g as B,h as I}from"./index.73715daa.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const $={components:{ChampTooltip:S},props:["champArr"],data(){return{champCost:[],champ:{},champCounter:0,champOrigins:"",champTraits:"",localChampDragged:{}}},methods:{champInfo:function(r){for(let e=0;e<this.champArr.length;e++)if(this.champArr[e].name==r){this.champ=this.champArr[e];break}this.champ.origins.length==1?this.champOrigins=this.champ.origins[0]:this.champ.origins.forEach(e=>{this.champOrigins+=e+" "}),this.champ.classes.length==1?this.champTraits=this.champ.classes[0]:this.champ.classes.forEach(e=>{this.champTraits+=e+" "})},hideInfo:function(){this.champ={},this.champOrigins="",this.champTraits=""},startDrag:function(r){let e={};for(let n=0;n<this.champArr.length;n++)if(this.champArr[n].name==r){e=this.champArr[n];break}this.localChampDragged=e,this.$emit("champSelected",e)}},beforeMount(){let r=[],e=[],n=[],h=[],o=[];this.champArr.forEach(t=>{t.cost==1?r.push(t.name):t.cost==2?e.push(t.name):t.cost==3?n.push(t.name):t.cost==4?h.push(t.name):o.push(t.name)}),this.champCost=[r,e,n,h,o]}},E={id:"cost"},N={href:"#"},x=["src","onMouseover","onDragstart"],L={class:"pool-champ-tooltip"},M={class:v("pool-champ-tooltip-content")},V=a("span",null,"Champion:",-1),j=a("span",null,"Cost:",-1),J=a("span",null,"Origins:",-1),F=a("span",null,"Traits:",-1);function z(r,e,n,h,o,t){return c(),m("div",E,[(c(!0),m(g,null,f(o.champCost,(l,i)=>(c(),m("div",{class:"pool-row",key:l},[a("h1",null,u(i+1),1),(c(!0),m(g,null,f(l,d=>(c(),m("div",{class:"champ",key:d},[a("a",N,[a("img",{src:"./set7/champions/TFT7_"+d+".png",alt:"{{champ}} image",class:v("cost"+(i+1)),onMouseover:s=>t.champInfo(d),onMouseleave:e[0]||(e[0]=(...s)=>t.hideInfo&&t.hideInfo(...s)),draggable:"",onDragstart:s=>t.startDrag(d)},null,42,x),_(a("span",L,[a("div",M,[a("h2",null,[V,T(" "+u(this.champ.name),1)]),a("h2",null,[j,T(" "+u(this.champ.cost),1)]),a("h2",null,[J,T(" "+u(this.champOrigins),1)]),a("h2",null,[F,T(" "+u(this.champTraits),1)])])],512),[[C,this.champ.name==d]])])]))),128))]))),128))])}var P=y($,[["render",z]]);const R={components:{ChampTooltip:S},props:["champArr","classesArr"],data(){return{fetchedChampArr:[]}},methods:{sendChamp:function(r){console.log("Trait champ selected",r),this.$emit("champSelected",r)}}},G={id:"classes-pool"},W=["src"],U={class:"class-name"};function q(r,e,n,h,o,t){const l=A("ChampTooltip");return c(),m("div",G,[(c(!0),m(g,null,f(this.classesArr,i=>(c(),m("div",{class:"pool-row",key:i},[a("img",{src:"./set7/traits/"+i.name+".svg",alt:"origin logo"},null,8,W),a("h3",U,u(i.name),1),b(l,{elArr:i.champions,onSendChampChild:t.sendChamp,champArr:this.champArr},null,8,["elArr","onSendChampChild","champArr"])]))),128))])}var O=y(R,[["render",q]]);const H={components:{ChampTooltip:S},props:["champArr","originsArr"],data(){return{}},methods:{sendChamp:function(r){console.log("Champ selected",r),this.$emit("champSelected",r)}}},K={id:"origins-pool"},Q=["src"],X={class:"origin-name"};function Y(r,e,n,h,o,t){const l=A("ChampTooltip");return c(),m("div",K,[(c(!0),m(g,null,f(this.originsArr,i=>(c(),m("div",{class:"pool-row",key:i},[a("img",{src:"./set7/traits/"+i.name+".svg",alt:"origin logo"},null,8,Q),a("h3",X,u(i.name),1),b(l,{elArr:i.champions,onSendChampChild:t.sendChamp,champArr:this.champArr},null,8,["elArr","onSendChampChild","champArr"])]))),128))])}var k=y(H,[["render",Y]]);const Z={components:{CostPool:P,ClassesPool:O,OriginsPool:k},props:["champDragged","propsJSON","champArr","classesArr","originsArr","traitsArr"],data(){return{selectedChamp:"",selectedTrait:{},selectedPool:1,active:!1,innerDragEvent:!1,poolSelection:!1,selectedOrigin:{},champCounter:0,boardValues:[[{},{},{},{},{},{},{}],[{},{},{},{},{},{},{}],[{},{},{},{},{},{},{}],[{},{},{},{},{},{},{}]],boardChamps:{},boardTraits:{assassin:{name:"Assassin",value:0},bard:{name:"Bard",value:0},bruiser:{name:"Bruiser",value:0},cannoneer:{name:"Cannoneer",value:0},cavalier:{name:"Cavalier",value:0},dragon:{name:"Dragon",value:0},dragonmancer:{name:"Dragonmancer",value:0},evoker:{name:"Evoker",value:0},guardian:{name:"Guardian",value:0},legend:{name:"Legend",value:0},mage:{name:"Mage",value:0},mystic:{name:"Mystic",value:0},shapeshifter:{name:"Shapeshifter",value:0},spellthief:{name:"Spellthief",value:0},starcaller:{name:"Starcaller",value:0},swiftshot:{name:"Swiftshot",value:0},warrior:{name:"Warrior",value:0},astral:{name:"Astral",value:0},guild:{name:"Guild",value:0},jade:{name:"Jade",value:0},mirage:{name:"Mirage",value:0},ragewing:{name:"Ragewing",value:0},revel:{name:"Revel",value:0},scalescorn:{name:"Scalescorn",value:0},shimmerscale:{name:"Shimmerscale",value:0},tempest:{name:"Tempest",value:0},trainer:{name:"Trainer",value:0},whispers:{name:"Whispers",value:0}}}},methods:{traitInfo:function(r){let e=[];this.propsJSON.traitsArr.hasOwnProperty(r.toLowerCase())?e=this.propsJSON.traitsArr:e=this.propsJSON.originsArr,this.selectedTrait=e[r.toLowerCase()]},hideInfo:function(){this.selectedTrait=""},innerDrag:function(r){r.target.src="";let e=r.target.id[0]-1,n=r.target.id[1]-1,h=this.boardValues[e][n];this.innerDragEvent==!1&&this.poolSelection==!1?(this.boardChamps[h.name].ocurrences==1?h.traits.forEach(o=>{let t=o.toLowerCase(),l=this.boardTraits[t].value,i=this.traitsArr[t].sets,d=document.getElementById(o+"-img");for(let s=0;s<i.length;s++){let p=s+1;i[p]!=null&&l>=i[s].min&&l<i[p].min?i[s].style=="bronze"?d.style.backgroundColor="#CD7F32":d[s].style==i[s].style:l<i[s].min&&(d.style.backgroundColor="")}h.traits.includes("Dragon")&&h.traitBuff==o?(console.log("Dragon buff trait: ",this.selectedChamp.traitBuff),this.boardTraits[t].value-=3):this.boardTraits[t].value-=1,delete this.boardChamps[h.name]}):this.boardChamps[h.name].ocurrences-=1,this.boardValues[e][n]={},this.selectedChamp=h,this.innerDragEvent=!0):(this.boardValues[e][n]=h,r.target.src=h.icon)},champDrop:function(r){console.log("Selected champ getting droped: ",this.selectedChamp);let e=r.target.id[4]-1,n=r.target.id[11]-1,h=document.getElementById(r.target.id);this.champCounter+=1,this.boardValues[e][n]=this.selectedChamp,this.boardChamps.hasOwnProperty(this.selectedChamp.name)?this.boardChamps[this.selectedChamp.name].ocurrences+=1:this.boardChamps[this.selectedChamp.name]={ocurrences:1},this.selectedChamp.traits.forEach(o=>{let t=o.toLowerCase(),l=this.traitsArr[t].sets,i=0,d=document.getElementById(o+"-img");this.selectedChamp.traits.includes("Dragon")&&this.selectedChamp.traitBuff==o&&this.boardChamps[this.selectedChamp.name].ocurrences<=1?this.boardTraits[t].value+=3:this.boardChamps[this.selectedChamp.name].ocurrences<=1&&(this.boardTraits[t].value+=1),i=this.boardTraits[t].value;for(let s=0;s<l.length;s++)if(l[s].min==1){d.style.backgroundColor=l[s].style;break}else if(l[s+1]!=null&&i>=l[s].min&&i<l[s+1].min){if(l[s].style=="bronze")d.style.backgroundColor="#CD7F32";else if(l[s].style=="chromatic"){let p="url(./set7/traits/"+l[s].style+".svg)";d.style.backgroundColor="",d.style.backgroundImage=p}else d[s].style==l[s].style;break}else console.log("Trait: ",o,"not active with value: ",i)}),h.hasChildNodes()?h.children[0].src=this.selectedChamp.icon:h.src=this.selectedChamp.icon,this.selectedChamp="",this.innerDragEvent=!1,this.poolSelection=!1,this.$emit("refresh"),console.log("Board values at drop: ",this.boardValues)},champLeave:function(){this.selectedChamp="",this.innerDragEvent=!1,this.champCounter-=1,console.log("champLeave")},refreshChamp:function(r){this.selectedChamp=r,this.poolSelection=!0,console.log("Selected champ from the board",this.selectedChamp)}}},ee={id:"synergies"},se=["src","id","onMouseover"],te={class:v("synergy-value")},re={class:v("synergy-name")},ae={class:"synergies-tooltip"},oe={class:v("tooltip-content")},ie=a("h2",null,"Description",-1),ne=["id"],le=["id"],he=["id"],ce={id:"pool-selector"};function me(r,e,n,h,o,t){const l=A("CostPool"),i=A("ClassesPool"),d=A("OriginsPool");return c(),m(g,null,[a("div",ee,[(c(!0),m(g,null,f(o.boardTraits,s=>_((c(),m("div",{class:v("synergy-slot"),key:s},[a("img",{src:"./set7/traits/"+s.name+".svg",id:s.name+"-img",class:v("trait-logo"),onMouseover:p=>t.traitInfo(s.name),onMouseleave:e[0]||(e[0]=(...p)=>t.hideInfo&&t.hideInfo(...p))},null,40,se),a("div",te,u(s.value),1),a("div",re,u(s.name),1),_(a("span",ae,[a("div",oe,[ie,a("p",null,u(this.selectedTrait.description),1),(c(!0),m(g,null,f(this.selectedTrait.sets,p=>(c(),m("h3",{key:p.count},u(p.min)+": "+u(p.buff),1))),128))])],512),[[C,this.selectedTrait.name==s.name]])])),[[C,s.value>0]])),128))]),a("div",null,[a("div",{id:"positions",onMouseleave:e[5]||(e[5]=(...s)=>t.champLeave&&t.champLeave(...s))},[(c(),m(g,null,f(4,s=>a("div",{class:"board-row",key:s,id:"row"+s},[(c(),m(g,null,f(7,p=>a("div",{class:v(["champ-slot",{active:o.active}]),key:"champ"+p,id:"row-"+s+"-slot-"+p,onDrop:e[2]||(e[2]=(...D)=>t.champDrop&&t.champDrop(...D)),onDragover:e[3]||(e[3]=w(()=>{},["prevent"])),onDragenter:e[4]||(e[4]=w(()=>{},["prevent"]))},[a("img",{id:s+""+p,draggable:"",src:"",alt:"",onDragleave:e[1]||(e[1]=(...D)=>t.innerDrag&&t.innerDrag(...D))},null,40,he)],42,le)),64))],8,ne)),64))],32),a("div",ce,[a("button",{onClick:e[6]||(e[6]=s=>o.selectedPool=1)},"Cost"),a("button",{onClick:e[7]||(e[7]=s=>o.selectedPool=2)},"Traits"),a("button",{onClick:e[8]||(e[8]=s=>o.selectedPool=3)},"Origins")]),_(b(l,{onChampSelected:t.refreshChamp,champArr:n.champArr},null,8,["onChampSelected","champArr"]),[[C,o.selectedPool==1]]),_(b(i,{onChampSelected:t.refreshChamp,champArr:n.champArr,classesArr:n.classesArr},null,8,["onChampSelected","champArr","classesArr"]),[[C,o.selectedPool==2]]),_(b(d,{onChampSelected:t.refreshChamp,champArr:n.champArr,originsArr:n.originsArr},null,8,["onChampSelected","champArr","originsArr"]),[[C,o.selectedPool==3]])])],64)}var de=y(Z,[["render",me]]);const pe={components:{ChampTooltip:S,CostPool:P,ClassesPool:O,OriginsPool:k,Board:de},data(){return{selectedPool:1,fetchedChampArr:[],fetchedTraitsArr:[],fetchedOriginsArr:[],selectedChamp:{},originsProps:{},traitsProps:{},boardProps:{},dataFetched:!1,poolSelection:!1,champLeave:!1}},async beforeMount(){const r=await fetch("./data/champions.json"),e=await fetch("./data/traits.json"),n=await fetch("./data/classes.json"),h=await fetch("./data/origins.json");this.fetchedChampArr=await r.json(),this.fetchedClassesArr=await n.json(),this.fetchedTraitsArr=await e.json(),this.fetchedOriginsArr=await h.json(),this.originsProps={champArr:this.fetchedChampArr,originsArr:this.fetchedOriginsArr},this.traitsProps={champArr:this.fetchedChampArr,traitsArr:this.fetchedTraitsArr},this.boardProps={originsArr:this.fetchedOriginsArr,traitsArr:this.fetchedTraitsArr},this.dataFetched=!0,console.log("This traits props: ",this.traitsProps)},methods:{refreshChamp:function(r){this.selectedChamp=r,this.poolSelection=!0,console.log("Selected champ from the board",this.selectedChamp)},refreshChampTrait:function(r){this.selectedChamp=r,this.poolSelection=!0,console.log("Selected champ from the trait pool",this.selectedChamp)},refreshPoolSelection:function(){console.log("Refreshing parent values ..."),this.poolSelection=!1,this.champLeave=!1}}},ue={id:"team-comp"};function ge(r,e,n,h,o,t){const l=A("Board");return c(),m("div",ue,[o.dataFetched?(c(),B(l,{key:0,propsJSON:o.boardProps,champArr:o.fetchedChampArr,classesArr:r.fetchedClassesArr,traitsArr:o.fetchedTraitsArr,originsArr:o.fetchedOriginsArr},null,8,["propsJSON","champArr","classesArr","traitsArr","originsArr"])):I("",!0)])}var Ce=y(pe,[["render",ge]]);export{Ce as default};
